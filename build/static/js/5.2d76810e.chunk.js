(this.webpackJsonpdotslash=this.webpackJsonpdotslash||[]).push([[5],{48:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(15),s=a.n(n),o=a(20),r=a(4),c=a(5),i=a(7),l=a(6),p=a(8),u=a(0),m=a.n(u),h=a(13),f=(a(48),a(19)),d=a(21),v=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).DeviceIO=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n,o,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("value"),n=t.target.getAttribute("status"),console.log(a,n),"on"==t.target.getAttribute("status")?(t.target.setAttribute("class","appliance"),t.target.setAttribute("status","off")):(t.target.setAttribute("class","appliance appliance_active"),t.target.setAttribute("status","on")),o="off"==n,console.log(o),e.next=8,fetch("http://"+d.a.host+":8000/iot/io/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"appliance="+a+"&a_io="+o});case 8:return r=e.sent,e.next=11,r.json();case 11:c=e.sent,console.log(c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var n=a.props.match.params.roomname;return a.state={roomname:n,appliances:[],isappliances:!1},a.appliances=[],a.routes={hall:1,bedroom:5,kitchen:3},console.log(a.state.roomname),a.ourRouteKey=a.routes[a.state.roomname],a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+d.a.host+":8000/popu/air/");case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.map((function(e){e.fields.a_room==a.ourRouteKey&&a.appliances.push(e.fields)})),console.log(this.appliances),this.setState({appliances:this.appliances,isappliances:!0},(function(){console.log("Fetched")}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"container"},m.a.createElement(h.a,null),m.a.createElement("div",{className:"roomContainer"},m.a.createElement("div",{className:"rooms-title ripple",style:{padding:"10px",textTransform:"uppercase"}},this.state.roomname),m.a.createElement("div",{className:"rooms"},this.state.appliances.map((function(t){return console.log(t.a_io),m.a.createElement("div",{onClick:e.DeviceIO,name:"device",status:"on",value:t.a_name,key:t.a_name,className:1==t.a_io?"appliance  appliance_active":"appliance "},t.a_name)})))),m.a.createElement(f.a,null))}}]),t}(u.Component);t.default=v}}]);
//# sourceMappingURL=5.2d76810e.chunk.js.map